---
date: 2025-12-01
title: Better Auth：TypeScript向け認証フレームワークの決定版
description: Better Authは、TypeScript向けの包括的な認証フレームワークです。Email/Password認証、OAuth、2FA、マルチテナントまで、モダンな認証機能をプラグインベースで簡単に実装できます。
tags:
  - better-auth
  - typescript
  - authentication
  - oauth
  - security
prev:
  text: 'TypeScriptの自己参照関数：再帰と型安全の両立'
  link: '/posts/2025/11/28'
next:
  text: 'SWRでthrow Errorしない型安全なエラーハンドリング'
  link: '/posts/2025/12/02'
---

# Better Auth：TypeScript向け認証フレームワークの決定版

[Better Auth](https://www.better-auth.com/)は、TypeScript向けの包括的な認証フレームワークである。「Own Your Auth（認証を自分のものに）」をコンセプトに、フレームワーク非依存で、あらゆるモダンなWebアプリケーションに統合できる。Vercel CEOのGuillermo Rauch氏からも「Great project & maintainer」と評価されている注目のライブラリである。

## Better Authとは

Better Authは、認証に必要なすべての機能を提供するTypeScriptフレームワークである。Auth.js（旧NextAuth）の複雑さに不満を持つ開発者から高い評価を得ており、「5分で認証が完了する」「設定したら、あとは動く」という声が多い。

### 主な特徴

- **フレームワーク非依存**：React、Vue、Svelte、Astro、Solid、Next.js、Nuxt、Hono、Tanstack Startなど、あらゆるフレームワークをサポート
- **型安全**：TypeScriptファーストで設計され、すべてのAPIが型付けされている
- **プラグインベース**：必要な機能だけをプラグインとして追加できる
- **データベース連携**：Drizzle、Prisma、その他のORMと簡単に統合可能

## インストールと基本設定

Better Authは、npmからインストールできる。

```bash
npm i better-auth
```

### サーバーサイド設定

`auth.ts` でBetter Authを初期化する。

```ts
import { betterAuth } from 'better-auth'
import { Pool } from 'pg'

export const auth = betterAuth({
  database: new Pool({
    connectionString: process.env.DATABASE_URL,
  }),
  emailAndPassword: {
    enabled: true,
  },
  plugins: [organization(), twoFactor()],
})
```

### クライアントサイド設定

`client.ts` でクライアントを作成する。

```ts
import { createAuthClient } from 'better-auth/client'

export const authClient = createAuthClient()
```

## 認証機能

Better Authは、多様な認証方式をサポートしている。

### Email & Password認証

最も基本的な認証方式である。ユーザー登録、ログイン、パスワードリセットなどの機能が含まれる。

```ts
// サインアップ
await authClient.signUp.email({
  email: 'user@example.com',
  password: 'securePassword123',
  name: 'User Name',
})

// サインイン
await authClient.signIn.email({
  email: 'user@example.com',
  password: 'securePassword123',
})
```

### ソーシャル認証（OAuth）

GitHub、Google、Discord、Twitterなど、主要なOAuthプロバイダーをサポートしている。

```ts
export const auth = betterAuth({
  // ...
  socialProviders: {
    github: {
      clientId: process.env.GITHUB_CLIENT_ID,
      clientSecret: process.env.GITHUB_CLIENT_SECRET,
    },
    google: {
      clientId: process.env.GOOGLE_CLIENT_ID,
      clientSecret: process.env.GOOGLE_CLIENT_SECRET,
    },
  },
})
```

クライアント側でのソーシャルログインは、1行で実装できる。

```ts
await authClient.signIn.social({ provider: 'github' })
```

### 二要素認証（2FA）

TOTP（Time-based One-Time Password）による二要素認証をプラグインで追加できる。

```ts
import { twoFactor } from 'better-auth/plugins'

export const auth = betterAuth({
  // ...
  plugins: [twoFactor()],
})
```

## マルチテナント機能

Better Authは、Organization（組織）機能をプラグインで提供している。チーム開発やSaaSアプリケーションに必要な機能が揃っている。

### 組織管理

```ts
import { organization } from 'better-auth/plugins'

export const auth = betterAuth({
  // ...
  plugins: [
    organization({
      allowUserToCreateOrganization: true,
    }),
  ],
})
```

### メンバー招待

組織へのメンバー招待機能も標準で含まれる。

```ts
// メンバーを招待
await authClient.organization.inviteMember({
  organizationId: 'org_123',
  email: 'newmember@example.com',
  role: 'member',
})
```

### アクセス制御

ロールベースのアクセス制御（RBAC）により、細かな権限管理が可能である。

```ts
// 権限チェック
const hasAccess = await authClient.organization.hasPermission({
  organizationId: 'org_123',
  permission: 'admin',
})
```

## プラグインエコシステム

Better Authの強みは、豊富なプラグインエコシステムである。公式プラグインに加えて、コミュニティが作成したプラグインも利用できる。

### 公式プラグイン

| プラグイン     | 機能                       |
| -------------- | -------------------------- |
| `twoFactor`    | 二要素認証（TOTP）         |
| `organization` | マルチテナント・チーム管理 |
| `magicLink`    | マジックリンク認証         |
| `passkey`      | パスキー（WebAuthn）認証   |
| `anonymous`    | 匿名ユーザー               |
| `phoneNumber`  | 電話番号認証               |

### プラグインの組み合わせ

必要な機能だけを選んで組み合わせられる。

```ts
import { twoFactor, organization, magicLink, passkey } from 'better-auth/plugins'

export const auth = betterAuth({
  database: db,
  plugins: [twoFactor(), organization(), magicLink(), passkey()],
})
```

## フレームワーク統合

Better Authは、主要なフレームワークとシームレスに統合できる。

### Next.js

```ts
// app/api/auth/[...all]/route.ts
import { auth } from '@/lib/auth'
import { toNextJsHandler } from 'better-auth/next-js'

export const { GET, POST } = toNextJsHandler(auth)
```

### Hono

```ts
import { Hono } from 'hono'
import { auth } from './auth'

const app = new Hono()

app.on(['GET', 'POST'], '/api/auth/*', (c) => {
  return auth.handler(c.req.raw)
})
```

### SvelteKit

```ts
// src/hooks.server.ts
import { auth } from '$lib/auth'
import { svelteKitHandler } from 'better-auth/svelte-kit'

export const handle = svelteKitHandler({ auth })
```

## セッション管理

Better Authは、セキュアなセッション管理を提供する。

### セッションの取得

```ts
// サーバーサイド
const session = await auth.api.getSession({
  headers: request.headers,
})

// クライアントサイド
const { data: session } = await authClient.getSession()
```

### セッションの無効化

```ts
// 現在のセッションをログアウト
await authClient.signOut()

// すべてのセッションを無効化
await authClient.revokeAllSessions()
```

## データベース連携

Better Authは、主要なORMやデータベースドライバーと連携できる。

### Drizzle ORM

```ts
import { drizzle } from 'drizzle-orm/node-postgres'
import { Pool } from 'pg'

const pool = new Pool({
  connectionString: process.env.DATABASE_URL,
})

export const auth = betterAuth({
  database: drizzle(pool),
})
```

### Prisma

```ts
import { PrismaClient } from '@prisma/client'

const prisma = new PrismaClient()

export const auth = betterAuth({
  database: prisma,
})
```

## セキュリティ

Better Authは、セキュリティを最優先に設計されている。

### CSRF保護

CSRFトークンによる保護が標準で有効になっている。

### レート制限

ブルートフォース攻撃を防ぐためのレート制限を設定できる。

```ts
export const auth = betterAuth({
  // ...
  rateLimit: {
    window: 60, // 60秒
    max: 10, // 最大10リクエスト
  },
})
```

### セキュアなパスワード保存

パスワードは、Argon2またはbcryptでハッシュ化されて保存される。

## Auth.jsとの比較

Better AuthとAuth.js（旧NextAuth）の違いを整理する。

| 観点           | Better Auth      | Auth.js     |
| -------------- | ---------------- | ----------- |
| TypeScript     | ファーストクラス | 後付け      |
| 設定の複雑さ   | シンプル         | 複雑        |
| フレームワーク | 完全に非依存     | Next.js優先 |
| プラグイン     | 豊富・モジュラー | 限定的      |
| マルチテナント | 標準サポート     | なし        |
| ドキュメント   | 充実             | やや複雑    |

開発者からは「Auth.jsと比べて設定がシンプル」「Drizzleスキーマに接続するだけで動く」といった声が多い。

## まとめ

Better Authは、TypeScript向け認証フレームワークの新しいスタンダードである。

- **フレームワーク非依存**：React、Vue、Svelte、Hono、Next.jsなど、あらゆる環境で動作
- **型安全**：TypeScriptファーストで、すべてのAPIが型付け
- **プラグインベース**：必要な機能だけを追加できるモジュラー設計
- **包括的な機能**：Email/Password、OAuth、2FA、マルチテナントまで対応
- **簡単な設定**：5分で認証が完了するシンプルさ

「認証を自分のものにする」というコンセプトのとおり、Better Authを使えば、サードパーティサービスに依存せず、自分のインフラで認証を完全にコントロールできる。詳細は[公式ドキュメント](https://www.better-auth.com/docs)を参照してほしい。
